<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>

    <link rel="stylesheet" href="css/style.css">
    <meta charset="UTF-8">
    <title>Home</title>
    <style>
        /* Always set the map height explicitly to define the size of the div
         * element that contains the map. */
        #map {
            height: 100%;
        }

        /* Optional: Makes the sample page fill the window. */
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
        }
    </style>
</head>
<body>

<nav class="navbar navbar-expand-sm bg-dark navbar-dark">
    <ul class="navbar-nav">
        <li class="nav-item active">
            <a class="nav-link" href="/">Home</a>
        </li>
        #if($isLoggedIn)
        <li class="nav-item">
            <a class="nav-link" href="/profile">Profile</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="/logout">Logout</a>
        </li>
        #else
        <li class="nav-item">
            <a class="nav-link" href="/login">Login</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="/register">Register</a>
        </li>
        #end
    </ul>
</nav>


<section class="newsletter">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="content">
                    <form action="/search" method="get">
                        <input type="text" name="city" class="form-control" placeholder="CITY">
                        <input type="text" name="hotelName" class="form-control" placeholder="NAME">
                        <button class="btn" type="submit">Search</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    </div>
</section>


<div id="map"></div>
<script>
    function initMap() {
        var locationRio = {lat: 37.75626, lng: -122.43246};

        var hotels = [
            #foreach($hotel in $hotels)
                ["$hotel.name", $hotel.latitude, $hotel.longitude],
            #end
            [1,1,1]
        ];

        var map = new google.maps.Map(document.getElementById('map'), {
            zoom: 10,
            center: locationRio,
            gestureHandling: 'cooperative'
        });

        for (var i = 0; i < hotels.length-1; i++) {
            var hotel = hotels[i];
            var marker = new google.maps.Marker({
                position: {lat: hotel[1], lng: hotel[2]},
                map: map,
                title: hotel[0],
                zIndex: i+1
            });
        }



    }
</script>
<script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDEvPZcqj3aXoII9X8eZc6xbXxnm3AxtD0&callback=initMap">
</script>

</body>
</html>